<style>
  html {
    background-color: #bdbdbd;
    user-select: none;
  }
  
  #main {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5em;
    
    margin: auto;
    
    font-family: Verdana;
    font-size: 1em;
  }
  
  .title {
    font-weight: bold;
    font-size: 2em;
  }
  
  
  .subtitle {
    font-weight: bold;
    font-size: 1.25em;
  }
  
  .legend {
    display: flex;
    flex-direction: row;
    gap: 2.5em;
    
    font-weight: bold;
    
    margin-bottom: 1em;
  }
  
  /* Grid */
  .grid-container {
    display: grid;
    grid-template-columns: auto 18fr;
    grid-template-rows: auto 18fr;
    
    background-color: #9d9d9d;
  }
  
  #defenders {
    display: grid;
    grid-template-columns: 1fr;
    grid-template-rows: auto 1fr;
    
    font-weight: bold;
  }
  
  #attackers {
    display: grid;
    grid-template-columns: auto 1fr;
    grid-template-rows: 1fr;
    
    font-weight: bold;
  }
  
  #defenders>.header,
  #attackers>.header {
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: space-around;
    padding: 1em;
  }
  
  #attackers>.header {
    writing-mode: vertical-lr;
  }
  
  #defenders>.labels {
    display: grid;
    grid-template-columns: repeat(18, 1fr);
    grid-template-rows: 1fr;
  }
  
  #attackers>.labels {
    display: grid;
    grid-template-columns: 1fr;
    grid-template-rows: repeat(18, 1fr);
  }
  
  #defenders>.labels>div,
  #attackers>.labels>div {
    display: flex;
    justify-content: center;
    align-items: flex-end;
    flex-direction: column;
  }
    
  #defenders>.labels>div {
    padding: 1em 0em;
    writing-mode: vertical-lr;
  }
  
  #attackers>.labels>div {
    padding: 0em 1em;
  }
  
  #grid {
    display: grid;
    grid-template-columns: repeat(18, 1fr);
    grid-template-rows: repeat(18, 1fr);
    
    background-color: #adadad;
  }
  
  .cell {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    
    aspect-ratio: 1 / 1;
    height: 2.5em;
    outline: solid 1px #a5a5a5;
  }
  
  .related {
    background-color: rgba(0, 200, 255, 0.25);
  }
  
  .selected {
    background-color: rgba(0, 200, 255, 1.0);
  }
</style>
<script type="text/javascript">
/*
  Order: Normal Fire Water Electric Grass Ice Fighting Poison Ground Flying Psychic Bug Rock Ghost Dragon Dark Steel Fairy
*/

const matchups = [{
  type: 'Normal',
  immuneTo: ['Ghost'],
  resistTo: [],
  weakTo: ['Fighting']
}, {
  type: 'Fire',
  immuneTo: [],
  resistTo: ['Fire', 'Grass', 'Ice', 'Bug', 'Steel', 'Fairy'],
  weakTo: ['Water', 'Ground', 'Rock']
}, {
  type: 'Water',
  immuneTo: [],
  resistTo: ['Fire', 'Water', 'Ice', 'Steel'],
  weakTo: ['Electric', 'Grass']
}, {
  type: 'Electric',
  immuneTo: [],
  resistTo: ['Electric', 'Flying', 'Steel'],
  weakTo: ['Ground']
}, {
  type: 'Grass',
  immuneTo: [],
  resistTo: ['Water', 'Electric', 'Grass', 'Ground'],
  weakTo: ['Fire', 'Ice', 'Poison', 'Flying', 'Bug']
}, {
  type: 'Ice',
  immuneTo: [],
  resistTo: ['Ice'],
  weakTo: ['Fire', 'Fighting', 'Rock', 'Steel']
}, {
  type: 'Fighting',
  immuneTo: [],
  resistTo: ['Bug', 'Rock', 'Dark'],
  weakTo: ['Flying', 'Psychic', 'Fairy']
}, {
  type: 'Poison',
  immuneTo: [],
  resistTo: ['Grass', 'Fighting', 'Poison', 'Bug', 'Fairy'],
  weakTo: ['Ground', 'Psychic']
}, {
  type: 'Ground',
  immuneTo: ['Electric'],
  resistTo: ['Poison', 'Rock'],
  weakTo: ['Water', 'Grass', 'Ice']
}, {
  type: 'Flying',
  immuneTo: ['Ground'],
  resistTo: ['Grass', 'Fighting', 'Bug'],
  weakTo: ['Electric', 'Ice', 'Rock']
}, {
  type: 'Psychic',
  immuneTo: [],
  resistTo: ['Fighting', 'Psychic'],
  weakTo: ['Bug', 'Ghost', 'Dark']
}, {
  type: 'Bug',
  immuneTo: [],
  resistTo: ['Grass', 'Fighting', 'Ground'],
  weakTo: ['Fire', 'Flying', 'Rock']
}, {
  type: 'Rock',
  immuneTo: [],
  resistTo: ['Normal', 'Fire', 'Poison', 'Flying'],
  weakTo: ['Water', 'Grass', 'Fighting', 'Ground', 'Steel']
}, {
  type: 'Ghost',
  immuneTo: ['Normal', 'Fighting'],
  resistTo: ['Poison', 'Bug'],
  weakTo: ['Ghost', 'Dark']
}, {
  type: 'Dragon',
  immuneTo: [],
  resistTo: ['Fire', 'Water', 'Electric', 'Grass'],
  weakTo: ['Ice', 'Dragon', 'Fairy']
}, {
  type: 'Dark',
  immuneTo: ['Psychic'],
  resistTo: ['Ghost', 'Dark'],
  weakTo: ['Bug', 'Fairy']
}, {
  type: 'Steel',
  immuneTo: ['Poison'],
  resistTo: ['Normal', 'Grass', 'Ice', 'Flying', 'Psychic', 'Bug', 'Rock', 'Dragon', 'Steel', 'Fairy'],
  weakTo: ['Fire', 'Fighting', 'Ground']
}, {
  type: 'Fairy',
  immuneTo: ['Dragon'],
  resistTo: ['Fighting', 'Bug', 'Dark'],
  weakTo: ['Poison', 'Steel']
}];

let highlight = null;
let lastHover = null;

function generateSelectors(attacker, defender) {
  let selector;
  let sourceSelector;

  if (attacker && defender) {
    selector = `.attacker-${attacker}, .defender-${defender}`;
    sourceSelector = `.attacker-${attacker}.defender-${defender}`;
  } else if (attacker) {
    selector = `.attacker-${attacker}`;
    sourceSelector = `.header.attacker-${attacker}`;
  } else if (defender) {
    selector = `.defender-${defender}`;
    sourceSelector = `.header.defender-${defender}`;
  } else {
    return null;
  }

  return { selector, sourceSelector };
}

function highlightRelated(attacker, defender) {
  let { selector, sourceSelector } = generateSelectors(attacker, defender);

  let matching = document.querySelectorAll(selector);
  matching.forEach((el) => {
    el.classList.add('related');
  });

  let sourceMatch = document.querySelector(sourceSelector);
  sourceMatch.classList.remove('related');
  sourceMatch.classList.add('selected');
}

function unhighlightRelated() {
  let matching = document.querySelectorAll('.related, .selected');
  matching.forEach((el) => {
    el.classList.remove('related', 'selected');
  });
}

function freezeHighlights(attacker, defender) {
  highlightRelated(attacker, defender);
  highlight = true;
}

function unfreezeHighlights() {
  if (highlight) {
    unhighlightRelated();
    highlight = null;

    if (lastHover) {
      highlightRelated(lastHover.attacker, lastHover.defender);
    }
  }
}

function generateDefenders() {
  let elParent = document.querySelector('#defenders>.labels');

  matchups.forEach((defender) => {
    let classList = `header defender-${defender.type}`;
    let selector = `.defender-${defender.type}`;

    let newCell = document.createElement('div');
    newCell.className = classList;
    newCell.innerHTML = defender.type;

    newCell.addEventListener('mouseover', (e) => {
      lastHover = { defender: defender.type };

      if (!highlight) {
        highlightRelated(null, defender.type);
      }
    });

    newCell.addEventListener('mouseout', (e) => {
      if (!highlight) {
        unhighlightRelated();
      }
    });

    newCell.addEventListener('mousedown', (e) => freezeHighlights(null, defender.type));

    elParent.appendChild(newCell);
  });
}

function generateAttackers() {
  let elParent = document.querySelector('#attackers>.labels');

  matchups.forEach((attacker) => {
    let classList = `header attacker-${attacker.type}`;
    let selector = `.attacker-${attacker.type}`;

    let newCell = document.createElement('div');
    newCell.className = classList;
    newCell.innerHTML = attacker.type;

    newCell.addEventListener('mouseover', (e) => {
      lastHover = { attacker: attacker.type };

      if (!highlight) {
        highlightRelated(attacker.type, null);
      }
    });

    newCell.addEventListener('mouseout', (e) => {
      if (!highlight) {
        unhighlightRelated();
      }
    });

    newCell.addEventListener('mousedown', (e) => freezeHighlights(attacker.type, null));

    elParent.appendChild(newCell);
  });
}

function generateGrid() {
  let elParent = document.getElementById('grid');

  matchups.forEach((attacker) => {
    matchups.forEach((defender) => {
      let classList = `attacker-${attacker.type} defender-${defender.type}`;
      let selector = `.attacker-${attacker.type}, .defender-${defender.type}`;

      let newCell = document.createElement('div');
      newCell.className = `cell ${classList}`;

      if (defender.immuneTo.indexOf(attacker.type) > -1) {
        newCell.innerHTML = 'X';
      } else if (defender.resistTo.indexOf(attacker.type) > -1) {
        newCell.innerHTML = '/';
      } else if (defender.weakTo.indexOf(attacker.type) > -1) {
        newCell.innerHTML = 'O';
      } else {

      }

      newCell.addEventListener('mouseover', (e) => {
        lastHover = { attacker: attacker.type, defender: defender.type };

        if (!highlight) {
          highlightRelated(attacker.type, defender.type);
        }
      });

      newCell.addEventListener('mouseout', (e) => {
        if (!highlight) {
          unhighlightRelated();
        }
      });

      newCell.addEventListener('mousedown', (e) => freezeHighlights(attacker.type, defender.type));

      elParent.appendChild(newCell);
    });
  });
}

document.addEventListener('contextmenu', (e) => {
  e.preventDefault();
  unfreezeHighlights();
});
</script>
<div id="main">
  <div class="title">
    Type Matchups
  </div>
  <div class="subtitle">
    Based on Scarlet/Violet
  </div>
  <div class="legend">
    <span>X = Immune (0x)</span>
    <span>/ = Resists (1/2x)</span>
    <span>O = Weak To (2x)</span>
  </div>
  <div class="grid-container">
    <div></div>
    <div id="defenders">
      <div class="header"><span>Defender</span><span>Defender</span></div>
      <div class="labels">
        <script type="text/javascript">
        generateDefenders();
        </script>
      </div>
    </div>
    <div id="attackers">
      <div class="header"><span>Attacker</span><span>Attacker</span></div>
      <div class="labels">
        <script type="text/javascript">
        generateAttackers();
        </script>
      </div>
    </div>
    <div id="grid">
      <script type="text/javascript">
      generateGrid();
      </script>
    </div>
  </div>
  <div>
    <b>Hover</b> over types/matchups to highlight -
    <b>Left click</b> to freeze highlights (You can have multiple!) -
    <b>Right click</b> to unfreeze highlights
  </div>
</div>